pluginManagement {
    def carboniteRepoPath = "file:///${rootProject.projectDir}/${repoCarbonite}"
    repositories {
        if(file(carboniteRepoPath).exists()) {
            maven {
                url carboniteRepoPath
                metadataSources {
                    artifact()
                    gradleMetadata()
                }
            }
        }

        mavenCentral()
        gradlePluginPortal()
    }
}

dependencyResolutionManagement {
    def carboniteRepoPath = "file:///${rootProject.projectDir}/${repoCarbonite}"
    repositories {
        if(file(carboniteRepoPath).exists()) {
            maven {
                url carboniteRepoPath
                metadataSources {
                    artifact()
                    gradleMetadata()
                }
            }
        }

        mavenLocal()
        mavenCentral()
        gradlePluginPortal() // needed by gradle-plugin project
    }
}

rootProject.name='deltafi'

include 'deltafi-action-kit'
include 'deltafi-api'
include 'deltafi-auth'
include 'deltafi-cli'
include 'deltafi-common'
include 'deltafi-core'
include 'deltafi-core-actions'
include 'deltafi-common-test'
include 'deltafi-docs'
include 'deltafi-egress-sink'
include 'deltafi-nodemonitor'
include 'gradle-plugin'
