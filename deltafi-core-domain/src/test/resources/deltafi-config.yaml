ingressFlows:
  sample:
    name: sample
    type: json
    transformActions:
      - Utf8TransformAction
      - SampleTransformAction
    loadAction: SampleLoadAction
  theFlow:
    name: theFlow
    type: theType
    transformActions: []
egressFlows:
  sample:
    name: sample
    egressAction: SampleEgressAction
    formatAction: SampleFormatAction
    enrichActions:
      - SampleEnrichAction
    validateActions:
      - AuthorityValidateAction
      - SampleValidateAction
  error:
    name: error
    egressAction: ErrorEgressAction
    formatAction: ErrorFormatAction
transformActions:
  Utf8TransformAction:
    name: Utf8TransformAction
    type: org.deltafi.core.domain.TestAction
    consumes: json
    produces: json-utf8
  SampleTransformAction:
    name: SampleTransformAction
    consumes: json-utf8
    produces: json-utf8-sample
loadActions:
  SampleLoadAction:
    name: SampleLoadAction
    consumes: json-utf8-sample
enrichActions:
  SampleEnrichAction:
    name: SampleEnrichAction
    requiresDomains:
      - sample
    requiresMetadataKeyValues:
    - key: loadSampleType
      value: load-sample-type
formatActions:
  SampleFormatAction:
    name: SampleFormatAction
    requiresDomains:
      - sample
    requiresEnrichment:
      - sampleEnrichment
  ErrorFormatAction:
    name: ErrorFormatAction
    requiresDomains:
      - error
validateActions:
  AuthorityValidateAction:
    name: AuthorityValidateAction
    type: org.deltafi.stix.actions.RubberStampValidateAction
  SampleValidateAction:
    name: SampleValidateAction
    type: org.deltafi.stix.actions.RubberStampValidateAction
egressActions:
  Stix2_1EgressAction:
    name: Stix2_1EgressAction
    type: org.deltafi.core.action.RestPostEgressAction
    parameters:
      url: "${EGRESS_ENDPOINT:http://localhost:8085/echo}"
      metadataKey: deltafiMetadata
  Stix1_XEgressAction:
    name: Stix1_XEgressAction
    type: org.deltafi.core.action.RestPostEgressAction
    parameters:
      url: "${EGRESS_ENDPOINT:http://localhost:8085/echo}"
      metadataKey: deltafiMetadata
deleteActions:
  DeleteAction:
    name: DeleteAction
    type: org.deltafi.core.delete.DeleteAction
