plugins {
    id 'com.github.hierynomus.license' version "${hierynomusLicenseVersion}"
    id 'jacoco'
    id 'java-library'
    id 'maven-publish'
}

description = 'DeltaFi Action Kit Test Harness - Test Action implementation SDK for DeltaFi actions'

license {
    header(rootProject.file('HEADER'))
    excludes(excludeFromLicense)
    strictCheck true
    mapping('java', 'SLASHSTAR_STYLE')
}

jar {
    enabled = true
}

configurations {
    jars
}

artifacts {
    jars jar
}

task renameJar (type: Copy) {
    from ('build/libs/')
    include "deltafi-action-kit-test-${project.version}.jar"
    destinationDir file('build/libs')
    rename "deltafi-action-kit-test-${project.version}.jar", 'deltafi-action-kit-test.jar'
}

assemble.finalizedBy(renameJar)

dependencies {
    annotationProcessor project(':deltafi-action-kit')

    implementation project(':deltafi-action-kit')
    implementation project(':deltafi-common-test')

    implementation "org.assertj:assertj-core"

    implementation "org.mockito:mockito-junit-jupiter:${mockitoJupiterVersion}"
    implementation "org.junit.jupiter:junit-jupiter-api:${jupiterVersion}"
    implementation "org.junit.jupiter:junit-jupiter-engine:${jupiterVersion}"
}
